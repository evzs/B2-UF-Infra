---
sidebar_position: 4
---

# Gestion et maintenance du serveur honeypot
## Connexion SSH
Pour gérer et administrer votre serveur T-Pot à distance, vous pouvez utiliser une autre machine pour vous connecter via SSH. Cela vous permet d'accéder à la ligne de commande du serveur T-Pot, ainsi qu'à l'interface web pour visualiser, configurer, maintenir et suivre les activités du honeypot.
ip
Utilisez la commande suivante pour vous connecter :
`ssh -l <nom-utilisateur> -p 64295 <adresse-ip-tpot>`

Assurez-vous de bien renseigner le nom d'utilisateur de la machine T-Pot, le nouveau port SSH change au cours de l'installation (64295), ainsi que l'adresse IP de votre machine.
Le mot de passe de votre utilisateur sera demandé.

## Accès a l'interface Web
Une fois connecté, allez sur l'interface Web en tapant l'adresse : `https://<ip-du-tpot>:64297`.
Entrez vos identifiants choisis lors de l'installation de T-Pot.

Vous allez pouvoir explorer les différentes fonctionnalités offertes par T-Pot, notamment :
- **Kibana** : analyse et visualisation des données capturées via divers tableaux de bord.
- **Carte des Attaques** : visualisation en temps réel des attaques.
- **Cyberchef** : outil pour le chiffrement, l'encodage, la compression et l'analyse des données.
- **Elasticvue** : interface web pour interagir avec le cluster Elasticsearch.
- **Spiderfoot** : outil d'automatisation de la collecte de renseignements open-source.

## Mise à jour du serveur T-Pot
Il est essentiel de maintenir votre serveur T-Pot à jour pour bénéficier des dernières améliorations et correctifs de sécurité. Utilisez les commandes suivantes pour mettre à jour votre serveur :
```bash
sudo apt update
sudo apt upgrade
```

Pour mettre à jour spécifiquement T-Pot, vous pouvez utiliser le script de mise à jour fourni :
```bash 
~/tpotce/update.sh
```
## Redemarrage journalier
Par defaut T-pot ajoutera un redemarrage quotidien incluant un nettoyage.
Vous pouvez ajuster cette ligne avec la commande `sudo crontab -e`.
```bash 
#Ansible: T-Pot Daily Reboot
42 2 * * * bash -c 'systemctl stop tpot.service && docker container prune -f; docker image prune -f; docker volume prune -f; /usr/sbin/shutdown -r +1 "T-Pot Daily Reboot"'
```

## Demarrage
Le service demarre et s'arrete automatiquement a chaque redemarrage.
Si besoin de le demarrer manuellement, vous pouvez utiliser la commande `systemctl start tpot` et observer le demarrage des conteneurs via `dpsw`.

## Arret
Pareil que pour le demarrage.
Pour l'arreter manuellement, vous pouvez via la commande `systemctl stop tpot`.

## Dossier "data"
Tous les fichiers journaux persistants des honeypots, des outils et des services liés à T-Pot sont stockés dans `~/tpotce/data`.