"use strict";(self.webpackChunktestdocumentation=self.webpackChunktestdocumentation||[]).push([[795],{9620:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>a});var r=n(4848),i=n(8453);const d={sidebar_position:4},t="4. Configuration des h\xf4tes",c={id:"architecture/configuration-hotes",title:"4. Configuration des h\xf4tes",description:"4.1. Serveurs pfSense",source:"@site/docs/architecture/configuration-hotes.md",sourceDirName:"architecture",slug:"/architecture/configuration-hotes",permalink:"/B2-UF-Infra/docs/architecture/configuration-hotes",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"3. Liste des composants applicatifs",permalink:"/B2-UF-Infra/docs/architecture/composants-applicatifs"},next:{title:"Documentation d'exploitation",permalink:"/B2-UF-Infra/docs/category/documentation-dexploitation"}},l={},a=[{value:"4.1. Serveurs pfSense",id:"41-serveurs-pfsense",level:2},{value:"4.1.1. Configuration des interfaces",id:"411-configuration-des-interfaces",level:3},{value:"4.1.1.1. Attribution des interfaces",id:"4111-attribution-des-interfaces",level:4},{value:"4.1.1.2. Attribution des IP",id:"4112-attribution-des-ip",level:4},{value:"<code>PF_MASTER</code>",id:"pf_master",level:6},{value:"<code>PF_BACKUP</code>",id:"pf_backup",level:6},{value:"4.1.2. Param\xe9trage basique des serveurs",id:"412-param\xe9trage-basique-des-serveurs",level:3},{value:"4.1.2.1. Nom d&#39;h\xf4te et domaine",id:"4121-nom-dh\xf4te-et-domaine",level:4},{value:"4.1.2.2. Noms d&#39;interfaces",id:"4122-noms-dinterfaces",level:4},{value:"4.1.3. Configuration de la haute disponibilit\xe9 (<code>failover</code>)",id:"413-configuration-de-la-haute-disponibilit\xe9-failover",level:3},{value:"4.1.3.1. Mise en place de la synchronisation",id:"4131-mise-en-place-de-la-synchronisation",level:4},{value:"Interface <code>SYNC</code>",id:"interface-sync",level:5},{value:"Configuration du State Synchronisation",id:"configuration-du-state-synchronisation",level:5},{value:"4.1.3.2. Configuration des IP Virtuelles <code>CARP</code>",id:"4132-configuration-des-ip-virtuelles-carp",level:4},{value:"4.1.3.4. Configuration de l&#39;<code>Outbound NAT</code> pour le <code>CARP</code>",id:"4134-configuration-de-loutbound-nat-pour-le-carp",level:4},{value:"<code>PF_MASTER</code>",id:"pf_master-1",level:5},{value:"<code>PF_BACKUP</code>",id:"pf_backup-1",level:5},{value:"4.1.4. R\xe8gles de base du pare-feu",id:"414-r\xe8gles-de-base-du-pare-feu",level:3},{value:"4.1.3.0. Aliases",id:"4130-aliases",level:4},{value:"4.1.3.1. <code>WAN</code>",id:"4131-wan",level:4},{value:"4.1.3.2. <code>LAN-OFFICE</code>",id:"4132-lan-office",level:4},{value:"4.1.3.3. <code>LAN-SERV</code>",id:"4133-lan-serv",level:4},{value:"4.1.3.4. <code>DMZ</code>",id:"4134-dmz",level:4},{value:"4.1.3.5. <code>SYNC</code>",id:"4135-sync",level:4},{value:"4.1.3.5. <code>HONEYPOT</code>",id:"4135-honeypot",level:4},{value:"4.1.5. DHCP",id:"415-dhcp",level:3},{value:"4.1.5.1. <code>LAN-OFFICE</code>",id:"4151-lan-office",level:4},{value:"4.1.6. DNS",id:"416-dns",level:3},{value:"4.1.7. Port Forwarding",id:"417-port-forwarding",level:3},{value:"4.1.8. RIPv2",id:"418-ripv2",level:3},{value:"4.1.6.1. Installation du package <code>FFR</code>",id:"4161-installation-du-package-ffr",level:4},{value:"4.1.6.2. Configuration du routage par RIPv2",id:"4162-configuration-du-routage-par-ripv2",level:4},{value:"4.1.9. Portail captif",id:"419-portail-captif",level:3},{value:"4.1.10. Sauvegarde automatique de la configuration",id:"4110-sauvegarde-automatique-de-la-configuration",level:3},{value:"4.1.11. Proxy Inverse",id:"4111-proxy-inverse",level:3},{value:"4.1.6.1. Installation du package <code>squid</code>",id:"4161-installation-du-package-squid",level:4},{value:"4.1.6.2. Configuration du proxy inverse",id:"4162-configuration-du-proxy-inverse",level:4},{value:"4.2. Serveur web (DMZ)",id:"42-serveur-web-dmz",level:2},{value:"4.2.1. Configuration initiale",id:"421-configuration-initiale",level:3},{value:"4.2.2. Mise en place du serveur web",id:"422-mise-en-place-du-serveur-web",level:3},{value:"4.2.3. Mise en place des fichiers de restauration",id:"423-mise-en-place-des-fichiers-de-restauration",level:3},{value:"4.3. Serveurs web-backup (LAN-SERV)",id:"43-serveurs-web-backup-lan-serv",level:2},{value:"4.3.1. Configuration initiale",id:"431-configuration-initiale",level:3},{value:"4.3.2. Mise en place des fichiers de sauvegarde et de restauration",id:"432-mise-en-place-des-fichiers-de-sauvegarde-et-de-restauration",level:3},{value:"4.3.2.1. Fichiers <code>/credentials/</code>",id:"4321-fichiers-credentials",level:4},{value:"4.3.2.2. Fichiers <code>/scripts/</code>",id:"4322-fichiers-scripts",level:4},{value:"4.3.3. Mise en oeuvre des t\xe2ches automatiques",id:"433-mise-en-oeuvre-des-t\xe2ches-automatiques",level:3},{value:"4.4 Serveur honeypot (HONEYPOT)",id:"44-serveur-honeypot-honeypot",level:2},{value:"4.4.1. Configuration initiale",id:"441-configuration-initiale",level:3},{value:"4.4.2 Installation de T-Pot sur le serveur",id:"442-installation-de-t-pot-sur-le-serveur",level:3},{value:"4.4.3 Configuration du pare-feu dans T-Pot (UFW)",id:"443-configuration-du-pare-feu-dans-t-pot-ufw",level:3},{value:"4.4.4. R\xe8gles de pare-feu et port-forwarding (pfSense)",id:"444-r\xe8gles-de-pare-feu-et-port-forwarding-pfsense",level:3},{value:"4.5. PC clients",id:"45-pc-clients",level:2}];function o(e){const s={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"4-configuration-des-h\xf4tes",children:"4. Configuration des h\xf4tes"}),"\n",(0,r.jsx)(s.h2,{id:"41-serveurs-pfsense",children:"4.1. Serveurs pfSense"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Attention"})," : Il est important de rappeler que deux serveurs pfSense sont \xe0 configurer (il est \xe0 vous de d\xe9cider lequel est le principal et lequel est le secondaire). Il est conseill\xe9 de bien faire attention \xe0 quelle machine est concern\xe9e par chaque \xe9tape de la configuration, puisque ",(0,r.jsx)(s.strong,{children:"m\xeame apr\xe8s la configuration de la synchronisation, certaines manipulations devront \xeatre r\xe9alis\xe9es sur les deux machines"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"La configuration suivante part du principe que le syst\xe8me d'exploitation a \xe9t\xe9 install\xe9 au pr\xe9alable selon les param\xe8tres d\xe9sir\xe9s et que la machine affiche cet \xe9cran :"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(1427).A+"",width:"750",height:"343"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Note"})," : Tant que le pare-feu n'a pas \xe9t\xe9 configur\xe9, il faudra d\xe9sactiver celui-ci avec la commande ",(0,r.jsx)(s.code,{children:"pfctl -d"})," dans l'",(0,r.jsx)(s.strong,{children:"option 8 du menu"})," afin de pouvoir acc\xe9der \xe0 l'interface graphique du routeur. Cette d\xe9sactivation du pare-feu ",(0,r.jsx)(s.strong,{children:"ne persiste pas apr\xe8s un red\xe9marrage"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"411-configuration-des-interfaces",children:"4.1.1. Configuration des interfaces"}),"\n",(0,r.jsx)(s.p,{children:"Une fois le syst\xe8me install\xe9, chaque NIC doit \xeatre attribu\xe9e \xe0 la bonne interface et recevoir une adresse IP. De base, comme montr\xe9 sur l'image pr\xe9c\xe9dente, seule deux interfaces sont actives, les autres \xe9tant masqu\xe9es."}),"\n",(0,r.jsx)(s.p,{children:"Tant que les interfaces ne sont pas nomm\xe9es, il faut partir des correspondances suivantes :"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Nom par d\xe9faut de l'interface"}),(0,r.jsx)(s.th,{children:"Nom final"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"LAN"}),(0,r.jsx)(s.td,{children:"LAN-OFFICE"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT1"}),(0,r.jsx)(s.td,{children:"LAN-SERV"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT2"}),(0,r.jsx)(s.td,{children:"DMZ"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT3"}),(0,r.jsx)(s.td,{children:"SYNC"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT4"}),(0,r.jsx)(s.td,{children:"HONEYPOT"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"4111-attribution-des-interfaces",children:"4.1.1.1. Attribution des interfaces"}),"\n",(0,r.jsxs)(s.p,{children:["Il est possible d'attribuer chaque carte r\xe9seau \xe0 la bonne interface en utilisant l'",(0,r.jsx)(s.strong,{children:"option 1 du menu"}),".\r\nL'attribution doit \xeatre r\xe9alis\xe9e ",(0,r.jsx)(s.strong,{children:"sur les deux machines"}),". Le r\xe9sultat devrait \xeatre de cet ordre :"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(9505).A+"",width:"759",height:"177"})}),"\n",(0,r.jsxs)(s.p,{children:["Les interfaces doivent ",(0,r.jsx)(s.strong,{children:"\xeatre assign\xe9es dans le m\xeame ordre et avec le m\xeame nom sur les deux serveurs"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"4112-attribution-des-ip",children:"4.1.1.2. Attribution des IP"}),"\n",(0,r.jsxs)(s.p,{children:["Les adresses IP doivent \xeatre configur\xe9es avec l'",(0,r.jsx)(s.strong,{children:"option 2 du menu"}),". Elles doivent \xeatre configur\xe9es sur les ",(0,r.jsx)(s.strong,{children:"deux serveurs"})," et doivent \xeatre diff\xe9rentes sur les deux machines."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Chaque attribution doit se faire de mani\xe8re suivante :"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Les IP doivent \xeatre statiques (et non entr\xe9es par DHCP) ;"}),"\n",(0,r.jsx)(s.li,{children:"Ne pas configurer d'IPv6"}),"\n",(0,r.jsx)(s.li,{children:"Ne pas activer de DHCP"}),"\n",(0,r.jsxs)(s.li,{children:["Ne pas changer le protocole du ",(0,r.jsx)(s.code,{children:"webConfigurator"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Les adresses ",(0,r.jsx)(s.code,{children:"WAN"})," sont propres \xe0 votre r\xe9seau reli\xe9 \xe0 Internet, c'est \xe0 vous de les d\xe9finir. Celles utilis\xe9es dans l'exemple, entre crochets, doivent \xeatre remplac\xe9es par les IP fixes relatives \xe0 votre ",(0,r.jsx)(s.code,{children:"WAN"}),"."]}),"\n",(0,r.jsx)(s.h6,{id:"pf_master",children:(0,r.jsx)(s.code,{children:"PF_MASTER"})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Interface"}),(0,r.jsx)(s.th,{children:"IP"}),(0,r.jsx)(s.th,{children:"Masque"}),(0,r.jsx)(s.th,{children:"Passerelle"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"WAN"}),(0,r.jsx)(s.td,{children:"[ 192.168.1.52 ]"}),(0,r.jsx)(s.td,{children:"[ 24 ]"}),(0,r.jsx)(s.td,{children:"[ 192.168.1.254 ]"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"LAN (LAN-OFFICE)"}),(0,r.jsx)(s.td,{children:"10.10.0.252"}),(0,r.jsx)(s.td,{children:"24"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT1 (LAN-SERV)"}),(0,r.jsx)(s.td,{children:"10.10.0.252"}),(0,r.jsx)(s.td,{children:"24"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT2 (DMZ)"}),(0,r.jsx)(s.td,{children:"10.10.10.252"}),(0,r.jsx)(s.td,{children:"28"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT3 (SYNC)"}),(0,r.jsx)(s.td,{children:"172.16.0.252"}),(0,r.jsx)(s.td,{children:"28"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT4 (HONEYPOT)"}),(0,r.jsx)(s.td,{children:"10.10.11.252"}),(0,r.jsx)(s.td,{children:"29"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]})]})]}),"\n",(0,r.jsx)(s.h6,{id:"pf_backup",children:(0,r.jsx)(s.code,{children:"PF_BACKUP"})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Interface"}),(0,r.jsx)(s.th,{children:"IP"}),(0,r.jsx)(s.th,{children:"Masque"}),(0,r.jsx)(s.th,{children:"Passerelle"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"WAN"}),(0,r.jsx)(s.td,{children:"[ 192.168.1.53 ]"}),(0,r.jsx)(s.td,{children:"[ 24 ]"}),(0,r.jsx)(s.td,{children:"[ 192.168.1.53 ]"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"LAN (LAN-OFFICE)"}),(0,r.jsx)(s.td,{children:"10.10.0.253"}),(0,r.jsx)(s.td,{children:"24"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT1 (LAN-SERV)"}),(0,r.jsx)(s.td,{children:"10.10.0.253"}),(0,r.jsx)(s.td,{children:"24"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT2 (DMZ)"}),(0,r.jsx)(s.td,{children:"10.10.10.253"}),(0,r.jsx)(s.td,{children:"28"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT3 (SYNC)"}),(0,r.jsx)(s.td,{children:"172.16.0.253"}),(0,r.jsx)(s.td,{children:"28"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OPT4 (HONEYPOT)"}),(0,r.jsx)(s.td,{children:"10.10.11.253"}),(0,r.jsx)(s.td,{children:"29"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.em,{children:"(none)"})})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Une fois l'IP configur\xe9e sur le ",(0,r.jsx)(s.code,{children:"WAN"}),", nous pouvons acc\xe9der \xe0 ceux-ci par leur adresse IP par le biais d'une machine connect\xe9e sur le m\xeame r\xe9seau. A noter qu'il faudra r\xe9aliser la commande cit\xe9e en haut de cette partie (",(0,r.jsx)(s.code,{children:"pfctl -d"}),") afin de pouvoir acc\xe9der au GUI."]}),"\n",(0,r.jsx)(s.h3,{id:"412-param\xe9trage-basique-des-serveurs",children:"4.1.2. Param\xe9trage basique des serveurs"}),"\n",(0,r.jsx)(s.h4,{id:"4121-nom-dh\xf4te-et-domaine",children:"4.1.2.1. Nom d'h\xf4te et domaine"}),"\n",(0,r.jsxs)(s.p,{children:["Sur le GUI des ",(0,r.jsx)(s.strong,{children:"deux serveurs"}),", dans l'onglet ",(0,r.jsx)(s.code,{children:"System > General Setup"}),", veillez \xe0 modifier le ",(0,r.jsx)(s.code,{children:"hostname"})," et le ",(0,r.jsx)(s.code,{children:"domain"})," selon les param\xe8tres voulus."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"PF_MASTER"})," :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Hostname : ",(0,r.jsx)(s.code,{children:"pf_master"})]}),"\n",(0,r.jsxs)(s.li,{children:["Domain : ",(0,r.jsx)(s.code,{children:"infra_lan"}),"\r\n",(0,r.jsx)(s.code,{children:"PF_BACKUP"})," :"]}),"\n",(0,r.jsxs)(s.li,{children:["Hostname : ",(0,r.jsx)(s.code,{children:"pf_backup"})]}),"\n",(0,r.jsxs)(s.li,{children:["Domain : ",(0,r.jsx)(s.code,{children:"infra.lan"})]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"4122-noms-dinterfaces",children:"4.1.2.2. Noms d'interfaces"}),"\n",(0,r.jsxs)(s.p,{children:["Sur le GUI des ",(0,r.jsx)(s.strong,{children:"deux serveurs"}),", dans l'onglet ",(0,r.jsx)(s.code,{children:"Interfaces > Assignements"}),", sur toutes les interfaces portant un nom temporaire (",(0,r.jsx)(s.code,{children:"LAN"})," et ",(0,r.jsx)(s.code,{children:"OPT*"}),"), veillez \xe0 modifier leur ",(0,r.jsx)(s.code,{children:"Description"})," selon le tableau de correspondance plus haut."]}),"\n",(0,r.jsxs)(s.p,{children:["Sur toutes les interfaces, veillez \xe0 d\xe9cocher l'option en bas de page ",(0,r.jsx)(s.code,{children:"Block private networks and loopback addresses"}),"."]}),"\n",(0,r.jsxs)(s.h3,{id:"413-configuration-de-la-haute-disponibilit\xe9-failover",children:["4.1.3. Configuration de la haute disponibilit\xe9 (",(0,r.jsx)(s.code,{children:"failover"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"Les deux serveurs, bien qu'ils pr\xe9sentent des IP diff\xe9rentes \xe0 des fins de bon fonctionnement, devront appara\xeetre comme un seul routeur pour toutes les autres machines du r\xe9seau."}),"\n",(0,r.jsxs)(s.p,{children:["Le principe de la ",(0,r.jsx)(s.a,{href:"https://docs.netgate.com/pfsense/en/latest/recipes/high-availability.html#table-ha-lan-ip-address-assignments",children:"haute disponibilit\xe9"})," (",(0,r.jsx)(s.code,{children:"High Availability"}),") est de leur attribuer une IP virtuelle commune sur chaque interface, qui sera celle utilis\xe9e par toutes les autres machines du r\xe9seau. Ainsi, en cas de panne, ",(0,r.jsx)(s.code,{children:"PF_BACKUP"})," prendra le relais mais puisque l'adresse virtuelle n'aura pas chang\xe9, ce relais sera r\xe9alis\xe9 en toute transparence pour les utilisateurs."]}),"\n",(0,r.jsx)(s.p,{children:"Il convient donc dans un premier temps de d\xe9finir les IP virtuelles :"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Interface"}),(0,r.jsx)(s.th,{children:"CARP VIP"}),(0,r.jsx)(s.th,{children:"Masque"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"WAN"}),(0,r.jsx)(s.td,{children:"[ 192.168.1.54 ]"}),(0,r.jsx)(s.td,{children:"24"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"LAN-OFFICE"}),(0,r.jsx)(s.td,{children:"10.10.0.254"}),(0,r.jsx)(s.td,{children:"24"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"LAN-SERV"}),(0,r.jsx)(s.td,{children:"10.10.1.254"}),(0,r.jsx)(s.td,{children:"24"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"DMZ"}),(0,r.jsx)(s.td,{children:"10.10.10.254"}),(0,r.jsx)(s.td,{children:"28"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HONEYPOT"}),(0,r.jsx)(s.td,{children:"10.10.10.254"}),(0,r.jsx)(s.td,{children:"28"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["L'interface ",(0,r.jsx)(s.code,{children:"SYNC"})," n'est pas concern\xe9e, puisqu'aucune machine externe n'y acc\xe8dera : son seul but est de synchroniser les param\xe8tres de ",(0,r.jsx)(s.code,{children:"PF_MASTER"})," avec ",(0,r.jsx)(s.code,{children:"PF_BACKUP"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"4131-mise-en-place-de-la-synchronisation",children:"4.1.3.1. Mise en place de la synchronisation"}),"\n",(0,r.jsxs)(s.h5,{id:"interface-sync",children:["Interface ",(0,r.jsx)(s.code,{children:"SYNC"})]}),"\n",(0,r.jsxs)(s.p,{children:["Pour permettre la synchronisation de configuration des pfSense par l'interface ",(0,r.jsx)(s.code,{children:"SYNC"}),", les r\xe8gles suivantes doivent \xeatre mises en place ",(0,r.jsx)(s.strong,{children:"sur les deux serveurs"}),", dans l'onglet ",(0,r.jsx)(s.code,{children:"Firewall > Rules > SYNC"})," :"]}),"\n",(0,r.jsx)(s.p,{children:"![](./img/Pasted image 20240621164635.png)"}),"\n",(0,r.jsx)(s.h5,{id:"configuration-du-state-synchronisation",children:"Configuration du State Synchronisation"}),"\n",(0,r.jsxs)(s.p,{children:["Sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"})," ",(0,r.jsx)(s.strong,{children:"puis"})," sur ",(0,r.jsx)(s.code,{children:"PF_BACKUP"}),", dans l'onglet `System > High Avail Sync :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Checker ",(0,r.jsx)(s.code,{children:"Synchronise States"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Mettre la valeur de ",(0,r.jsx)(s.code,{children:"Synchronize Interface"})," \xe0 ",(0,r.jsx)(s.code,{children:"SYNC"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Remplir le ",(0,r.jsx)(s.code,{children:"Filter Host ID"})," (",(0,r.jsx)(s.code,{children:"1"})," sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"}),", ",(0,r.jsx)(s.code,{children:"2"})," sur ",(0,r.jsx)(s.code,{children:"PF_BACKUP"}),") ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Remplir ",(0,r.jsx)(s.code,{children:"pfsync Synchronize Peer IP"})," avec l'IP ",(0,r.jsx)(s.code,{children:"SYNC"})," de l'autre serveur ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Cliquer sur ",(0,r.jsx)(s.code,{children:"Save"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"})," ",(0,r.jsx)(s.strong,{children:"seulement"}),", dans l'onglet ",(0,r.jsx)(s.code,{children:"System > High Avail Sync"})," :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Remplir ",(0,r.jsx)(s.code,{children:"Synchronize Config to IP"})," \xe0 l'IP ",(0,r.jsx)(s.code,{children:"SYNC"})," de ",(0,r.jsx)(s.code,{children:"PF_BACKUP"})," (172.16.0.252) ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Remplir ",(0,r.jsx)(s.code,{children:"Remote System Username"})," \xe0 ",(0,r.jsx)(s.code,{children:"admin"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Remplir ",(0,r.jsx)(s.code,{children:"Remote System Password"})," \xe0 la valeur du mot de passe (",(0,r.jsx)(s.code,{children:"pfsense"})," par d\xe9faut) ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Cocher toutes les cases de ",(0,r.jsx)(s.code,{children:"Select options to sync"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["La synchronisation devrait \xeatre compl\xe8te et peut \xeatre v\xe9rifi\xe9e par exemple en ajoutant une r\xe8gle de pare-feu dans ",(0,r.jsx)(s.code,{children:"PF_MASTER"}),", qui devrait automatiquement \xeatre copi\xe9e \xe0 ",(0,r.jsx)(s.code,{children:"PF_BACKUP"}),"."]}),"\n",(0,r.jsxs)(s.h4,{id:"4132-configuration-des-ip-virtuelles-carp",children:["4.1.3.2. Configuration des IP Virtuelles ",(0,r.jsx)(s.code,{children:"CARP"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsxs)(s.strong,{children:["Sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"})," seulement"]}),", dans l'onglet ",(0,r.jsx)(s.code,{children:"Firewall > Virtual IP"}),", cliquer sur ",(0,r.jsx)(s.code,{children:"+"})," pour cr\xe9er une nouvelle IP virtuelle, pour chaque interface concern\xe9e (voir le tableau ",(0,r.jsx)(s.code,{children:"4.3.1"}),"), avec les param\xe8tres suivants :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Type"})," : ",(0,r.jsx)(s.code,{children:"CARP"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Interface"})," : Interface choisie pour la ",(0,r.jsx)(s.code,{children:"VIP"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Addresses(es)"})," : ",(0,r.jsx)(s.code,{children:"CARP VIP"})," et ",(0,r.jsx)(s.code,{children:"Masque"})," correspondant \xe0 l'interface choisie dans `4.3.1"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Virtual IP Password"})," : Cr\xe9er un password pour l'interface (ne sert qu'\xe0 \xeatre partag\xe9 entre les deux serveurs)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"VHID Group"})," : Identificateur du ",(0,r.jsx)(s.code,{children:"CARP VIP"}),". Doit \xeatre diff\xe9rent pour chaque interface, une technique commune est de se baser sur un octet du r\xe9seau."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Advertising frequency"})," : ",(0,r.jsx)(s.code,{children:"1"})," (doit \xeatre identiques les deux serveurs)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Skew"})," : ",(0,r.jsx)(s.code,{children:"O"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Description"})," : par exemple, ",(0,r.jsx)(s.code,{children:"WAN CARP VIP"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Note"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Le ",(0,r.jsx)(s.code,{children:"Skew"})," est de ",(0,r.jsx)(s.code,{children:"1"})," pour le ",(0,r.jsx)(s.code,{children:"primary node"})," et doit \xeatre au-dessus de ",(0,r.jsx)(s.code,{children:"100"})," pour des nodes secondaires. Si la synchronisation fonctionne correctement, il sera automatiquement mis \xe0 ",(0,r.jsx)(s.code,{children:"100"})," sur ",(0,r.jsx)(s.code,{children:"PF_BACKUP"})," sans devoir \xeatre modifi\xe9 \xe0 la main."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(5682).A+"",width:"1260",height:"259"})}),"\n",(0,r.jsxs)(s.h4,{id:"4134-configuration-de-loutbound-nat-pour-le-carp",children:["4.1.3.4. Configuration de l'",(0,r.jsx)(s.code,{children:"Outbound NAT"})," pour le ",(0,r.jsx)(s.code,{children:"CARP"})]}),"\n",(0,r.jsxs)(s.p,{children:["Sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"})," ",(0,r.jsx)(s.strong,{children:"seulement"}),", dans ",(0,r.jsx)(s.code,{children:"Firewall > NAT > Outbound"})," :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Cocher ",(0,r.jsx)(s.code,{children:"Mode"})," : ",(0,r.jsx)(s.code,{children:"Hybrid Outbound NAT rule generation"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["En plus des deux r\xe8gles automatiques, cr\xe9er les ",(0,r.jsx)(s.code,{children:"mappings"})," suivants :\r\n",(0,r.jsx)(s.img,{src:n(8553).A+"",width:"1260",height:"706"})]}),"\n",(0,r.jsxs)(s.p,{children:["Une fois ces r\xe8gles mises en place, il est possible de v\xe9rifier l'\xe9tat des serveurs dans ",(0,r.jsx)(s.code,{children:"Status > CARP (failover)"}),"."]}),"\n",(0,r.jsx)(s.h5,{id:"pf_master-1",children:(0,r.jsx)(s.code,{children:"PF_MASTER"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(7812).A+"",width:"1264",height:"424"})}),"\n",(0,r.jsx)(s.h5,{id:"pf_backup-1",children:(0,r.jsx)(s.code,{children:"PF_BACKUP"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(1284).A+"",width:"1149",height:"490"})}),"\n",(0,r.jsx)(s.h3,{id:"414-r\xe8gles-de-base-du-pare-feu",children:"4.1.4. R\xe8gles de base du pare-feu"}),"\n",(0,r.jsxs)(s.p,{children:["Les r\xe8gles de pare-feu doivent \xeatre mises en place ",(0,r.jsxs)(s.strong,{children:["uniquement par ",(0,r.jsx)(s.code,{children:"PF_Master"})]})," et dans ",(0,r.jsx)(s.code,{children:"Firewall > Rules"}),", sur l'interface choisie."]}),"\n",(0,r.jsx)(s.h4,{id:"4130-aliases",children:"4.1.3.0. Aliases"}),"\n",(0,r.jsx)(s.p,{children:"Des aliases peuvent \xeatre d\xe9finis pour contenir des adresses IP ou des plages d'adresse IP sans avoir \xe0 les \xe9crire en brut \xe0 plusieurs endroits. Ces aliases permettent une modification rapide et dynamiques des adresses qu'ils contiennent."}),"\n",(0,r.jsxs)(s.p,{children:["Dans l'onglet ",(0,r.jsx)(s.code,{children:"Firewall > Aliases"})," :\r\n",(0,r.jsx)(s.img,{src:n(5174).A+"",width:"1154",height:"288"})]}),"\n",(0,r.jsxs)(s.h4,{id:"4131-wan",children:["4.1.3.1. ",(0,r.jsx)(s.code,{children:"WAN"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(1712).A+"",width:"1155",height:"412"})}),"\n",(0,r.jsxs)(s.h4,{id:"4132-lan-office",children:["4.1.3.2. ",(0,r.jsx)(s.code,{children:"LAN-OFFICE"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(355).A+"",width:"1272",height:"552"})}),"\n",(0,r.jsxs)(s.h4,{id:"4133-lan-serv",children:["4.1.3.3. ",(0,r.jsx)(s.code,{children:"LAN-SERV"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(2783).A+"",width:"1266",height:"720"})}),"\n",(0,r.jsxs)(s.h4,{id:"4134-dmz",children:["4.1.3.4. ",(0,r.jsx)(s.code,{children:"DMZ"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(6003).A+"",width:"1272",height:"478"})}),"\n",(0,r.jsxs)(s.h4,{id:"4135-sync",children:["4.1.3.5. ",(0,r.jsx)(s.code,{children:"SYNC"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(8725).A+"",width:"1280",height:"365"})}),"\n",(0,r.jsxs)(s.h4,{id:"4135-honeypot",children:["4.1.3.5. ",(0,r.jsx)(s.code,{children:"HONEYPOT"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(7036).A+"",width:"1272",height:"501"})}),"\n",(0,r.jsx)(s.h3,{id:"415-dhcp",children:"4.1.5. DHCP"}),"\n",(0,r.jsxs)(s.p,{children:["Le DHCP doit \xeatre activ\xe9 ",(0,r.jsxs)(s.strong,{children:["uniquement par ",(0,r.jsx)(s.code,{children:"PF_Master"})]})," et dans ",(0,r.jsx)(s.code,{children:"Services > DHCP Server"}),", sur l'interface choisie."]}),"\n",(0,r.jsxs)(s.p,{children:["Dans l'architecture pr\xe9sent\xe9e, seul le r\xe9seau ",(0,r.jsx)(s.code,{children:"LAN-OFFICE"})," dispose d'une pool DHCP, les autres sous-r\xe9seaux \xe9tant tous des r\xe9seaux de maintenance ou des r\xe9seaux exclusivement occup\xe9s par des serveurs."]}),"\n",(0,r.jsxs)(s.p,{children:["S'il devait \xeatre mis en place sur d'autres interfaces, il est conseill\xe9 de suivre les m\xeames \xe9tapes de configuration que pour ",(0,r.jsx)(s.code,{children:"4.1.4.1"}),", \xe0 l'exception \xe9videmment des adresses IP concern\xe9es."]}),"\n",(0,r.jsxs)(s.h4,{id:"4151-lan-office",children:["4.1.5.1. ",(0,r.jsx)(s.code,{children:"LAN-OFFICE"})]}),"\n",(0,r.jsxs)(s.p,{children:["Dans ",(0,r.jsx)(s.code,{children:"Services > DHCP Server"})," :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Cocher ",(0,r.jsx)(s.code,{children:"Enable DHCP server on LANOFFICE interface"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Address Pool Range"})," : ",(0,r.jsx)(s.code,{children:"10.10.0.1"})," to ",(0,r.jsx)(s.code,{children:"10.10.0.200"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"DNS Servers"})," : IP virtuelle du pare-feu sur l'interface concern\xe9e, ici ",(0,r.jsx)(s.code,{children:"10.10.0.254"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Gateway"})," : IP virtuelle du pare-feu sur l'interface concern\xe9e, ici ",(0,r.jsx)(s.code,{children:"10.10.0.254"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Failover peer IP"})," : IP de ",(0,r.jsx)(s.code,{children:"PF_BACKUP"})," sur l'interface concern\xe9e, ici ",(0,r.jsx)(s.code,{children:"10.10.0.253"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["S'il devait exister des IP fixes sur l'interface concern\xe9e (par exemple si l'on activait le DHCP sur l'interface ",(0,r.jsx)(s.code,{children:"LAN-SERV"}),", contenant le serveur ",(0,r.jsx)(s.code,{children:"web-backup"}),"), il est fortement conseill\xe9 de rentrer les IP fixes du r\xe9seau dans les ",(0,r.jsx)(s.code,{children:"DHCP Static Mappings"}),", tout en bas de la page."]}),"\n",(0,r.jsx)(s.p,{children:"De la m\xeame fa\xe7on, il est conseill\xe9 d'exclure des pools DHCP les adresses r\xe9elles et virtuelle des routeurs pfSense."}),"\n",(0,r.jsxs)(s.p,{children:["L'\xe9tat et les bails du serveur DHCP peuvent \xeatre v\xe9rifi\xe9s dans ",(0,r.jsx)(s.code,{children:"Status > DHCP Leases"})," :\r\n",(0,r.jsx)(s.img,{src:n(6734).A+"",width:"1275",height:"698"})]}),"\n",(0,r.jsx)(s.h3,{id:"416-dns",children:"4.1.6. DNS"}),"\n",(0,r.jsxs)(s.p,{children:["Le serveur DNS s'active ",(0,r.jsxs)(s.strong,{children:["uniquement sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"})]}),", dans ",(0,r.jsx)(s.code,{children:"Services > DNS Resolver > General Settings"})," :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Cocher ",(0,r.jsx)(s.code,{children:"Enable DNS Server"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Mettre ",(0,r.jsx)(s.code,{children:"All"})," sur ",(0,r.jsx)(s.code,{children:"Network Interfaces"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Mettre ",(0,r.jsx)(s.code,{children:"All"})," sur ",(0,r.jsx)(s.code,{children:"Outgoing Network Interfaces"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Cocher ",(0,r.jsx)(s.code,{children:"Register DHCP leases in the DNS resolver"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Cocher ",(0,r.jsx)(s.code,{children:"Register DHCP static mappings in the DNS Resolver"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["On peut enregistrer de nouvelles IP au DNS dans la partie ",(0,r.jsx)(s.code,{children:"Host Overrides"})," en bas de page."]}),"\n",(0,r.jsxs)(s.p,{children:["Dans le cadre de la mise en place du serveur web, dont le FDQN et l'adresse IP sont connus en avance, on peut d\xe9j\xe0 y ajouter l'entr\xe9e :\r\n",(0,r.jsx)(s.img,{src:n(44).A+"",width:"1269",height:"237"})]}),"\n",(0,r.jsx)(s.h3,{id:"417-port-forwarding",children:"4.1.7. Port Forwarding"}),"\n",(0,r.jsxs)(s.p,{children:["Les r\xe8gles de Port Forwarding s'activent ",(0,r.jsxs)(s.strong,{children:["uniquement sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"})]}),", dans ",(0,r.jsx)(s.code,{children:"Firewall > NAT > Port Forward"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Puisque l'IP et le port du site web, devant \xeatre accessibles depuis l'ext\xe9rieur, sont d\xe9j\xe0 connus, on peut cr\xe9er la r\xe8gle de port forwarding d\xe8s maintenant. Le but du port forward est d'intercepter une requ\xeate re\xe7ue du ",(0,r.jsx)(s.code,{children:"WAN"})," vers un port sp\xe9cifique du serveur (ici ",(0,r.jsx)(s.code,{children:"80"}),") afin de renvoyer cette requ\xeate vers le port d'une machine normalement inaccessible.\r\n",(0,r.jsx)(s.img,{src:n(1720).A+"",width:"1271",height:"239"})]}),"\n",(0,r.jsxs)(s.p,{children:["A noter toutefois que le WAN n'aura pas acc\xe8s \xe0 l'entr\xe9e DNS correspondant au serveur web et devra passer directement par la ",(0,r.jsx)(s.code,{children:"CARP VIP"})," des routeurs pfSense dans le ",(0,r.jsx)(s.code,{children:"WAN"}),", sauf si les machines voulant acc\xe9der au site entrent la ",(0,r.jsx)(s.code,{children:"CARP VIP"})," des routeurs pfSense dans leurs ",(0,r.jsx)(s.code,{children:"DNS"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"418-ripv2",children:"4.1.8. RIPv2"}),"\n",(0,r.jsxs)(s.p,{children:["Puisque l'utilisation du protocole dynamique de routage ",(0,r.jsx)(s.code,{children:"RIPv2"})," passe par l'utilisation d'un package, son installation et sa configuration ne sont pas incluses dans les param\xe8tres automatiquement synchronis\xe9s entre les deux pfSense."]}),"\n",(0,r.jsxs)(s.p,{children:["De cette fa\xe7on, ",(0,r.jsxs)(s.strong,{children:["toutes les manipulations suivantes sont \xe0 r\xe9aliser sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"})," et sur ",(0,r.jsx)(s.code,{children:"PF_BACKUP"}),"."]})]}),"\n",(0,r.jsxs)(s.h4,{id:"4161-installation-du-package-ffr",children:["4.1.6.1. Installation du package ",(0,r.jsx)(s.code,{children:"FFR"})]}),"\n",(0,r.jsxs)(s.p,{children:["Dans ",(0,r.jsx)(s.code,{children:"System > Package Manager"}),", rechercher et installer le package ",(0,r.jsx)(s.code,{children:"ffr"})," :",(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.img,{src:n(7106).A+"",width:"1275",height:"276"})]}),"\n",(0,r.jsx)(s.h4,{id:"4162-configuration-du-routage-par-ripv2",children:"4.1.6.2. Configuration du routage par RIPv2"}),"\n",(0,r.jsxs)(s.p,{children:["Dans ",(0,r.jsx)(s.code,{children:"Services > FRR > Global Settings"})," :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Cocher ",(0,r.jsx)(s.code,{children:"Enable FRR"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Entrer un ",(0,r.jsx)(s.code,{children:"Master Password"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Dans ",(0,r.jsx)(s.code,{children:"Services > FRR > RIP > RIP"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Cocher ",(0,r.jsx)(s.code,{children:"Enable RIP Routing"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Dans ",(0,r.jsx)(s.code,{children:"RIP Networks"}),", entrer les adresse r\xe9seau et masque de toutes les interfaces concern\xe9es (toutes sauf ",(0,r.jsx)(s.code,{children:"SYNC"}),") ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Dans ",(0,r.jsx)(s.code,{children:"RIP Version"}),", entrer ",(0,r.jsx)(s.code,{children:"RIPv2"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Cliquer sur ",(0,r.jsx)(s.code,{children:"Save"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Le fonctionnement du protocole de routage peut \xeatre v\xe9rifi\xe9 dans ",(0,r.jsx)(s.code,{children:"Services > FRR > Status > RIP"})," :\r\n",(0,r.jsx)(s.img,{src:n(9087).A+"",width:"865",height:"578"})]}),"\n",(0,r.jsx)(s.h3,{id:"419-portail-captif",children:"4.1.9. Portail captif"}),"\n",(0,r.jsx)(s.h3,{id:"4110-sauvegarde-automatique-de-la-configuration",children:"4.1.10. Sauvegarde automatique de la configuration"}),"\n",(0,r.jsxs)(s.p,{children:["L'administrateur peut choisir de r\xe9aliser les sauvegardes automatiques seulement sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"}),", ou sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"})," et ",(0,r.jsx)(s.code,{children:"PF_BACKUP"}),". Dans les deux cas, la proc\xe9dure est la m\xeame et doit \xeatre r\xe9alis\xe9e sur chaque machine, dans ",(0,r.jsx)(s.code,{children:"Services > Auto Configuration Backup > Settings"})," :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Cocher ",(0,r.jsx)(s.code,{children:"Enable automatic configuration backup"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Pour r\xe9aliser une backup journali\xe8re, cocher ",(0,r.jsx)(s.code,{children:"Automatically backup on a regular schedule"})," et entrer ",(0,r.jsx)(s.code,{children:"5 | 0 | * | * | *"})," dans ",(0,r.jsx)(s.code,{children:"Schedule"})," ; sinon, cocher ",(0,r.jsx)(s.code,{children:"Automatically backup on every configuration change"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Par s\xe9curit\xe9, entrer un mot de passe dans ",(0,r.jsx)(s.code,{children:"Encryption Password"})," ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Dans ",(0,r.jsx)(s.code,{children:"Manual backups to keep"}),", la valeur est libre ; ici nous mettrons ",(0,r.jsx)(s.code,{children:"20"})," backups manuelles sur le total de ",(0,r.jsx)(s.code,{children:"100"})," backups conserv\xe9es ;"]}),"\n",(0,r.jsxs)(s.li,{children:["Cocher ",(0,r.jsx)(s.code,{children:"List backups in descending order"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Les backups peuvent \xeatre r\xe9cup\xe9r\xe9es dans ",(0,r.jsx)(s.code,{children:"Services > Auto Configuration Backup > Restore"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"4111-proxy-inverse",children:"4.1.11. Proxy Inverse"}),"\n",(0,r.jsx)(s.p,{children:"Puisque l'utilisation du proxy inverse passe par l'utilisation d'un package, son installation et sa configuration ne sont pas incluses dans les param\xe8tres automatiquement synchronis\xe9s entre les deux pfSense."}),"\n",(0,r.jsxs)(s.p,{children:["De cette fa\xe7on, ",(0,r.jsxs)(s.strong,{children:["toutes les manipulations suivantes sont \xe0 r\xe9aliser sur ",(0,r.jsx)(s.code,{children:"PF_MASTER"})," et sur ",(0,r.jsx)(s.code,{children:"PF_BACKUP"}),"."]})]}),"\n",(0,r.jsxs)(s.h4,{id:"4161-installation-du-package-squid",children:["4.1.6.1. Installation du package ",(0,r.jsx)(s.code,{children:"squid"})]}),"\n",(0,r.jsxs)(s.p,{children:["Dans ",(0,r.jsx)(s.code,{children:"System > Package Manager"}),", rechercher et installer le package ",(0,r.jsx)(s.code,{children:"squid"})," :",(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.img,{src:n(4613).A+"",width:"1274",height:"142"})]}),"\n",(0,r.jsx)(s.h4,{id:"4162-configuration-du-proxy-inverse",children:"4.1.6.2. Configuration du proxy inverse"}),"\n",(0,r.jsx)(s.p,{children:"Puisque nous n'aurons pas \xe9norm\xe9ment d'int\xe9r\xeat \xe0 installer un reverse proxy, cette \xe9tape document\xe9e plus tard, accompagn\xe9e d'une solution permettant le load-balancing."}),"\n",(0,r.jsxs)(s.p,{children:["Cependant, il est possible de configurer le proxy inverse en ",(0,r.jsx)(s.a,{href:"https://www.it-connect.fr/reverse-proxy-https-avec-pfsense/",children:"suivant les \xe9tapes suivants"})]}),"\n",(0,r.jsx)(s.h2,{id:"42-serveur-web-dmz",children:"4.2. Serveur web (DMZ)"}),"\n",(0,r.jsx)(s.h3,{id:"421-configuration-initiale",children:"4.2.1. Configuration initiale"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Hostname"}),(0,r.jsx)(s.th,{children:"web-server"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Domaine"})}),(0,r.jsx)(s.td,{children:"infra.uf"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Nom de l'utilisateur"})}),(0,r.jsx)(s.td,{children:"web-server"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Adresse IP"})}),(0,r.jsx)(s.td,{children:"10.10.10.242"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Masque de sous-r\xe9seau"})}),(0,r.jsx)(s.td,{children:"255.255.255.248 (/28)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Passerelle par d\xe9faut"})}),(0,r.jsx)(s.td,{children:"10.10.10.254"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"DNS"})}),(0,r.jsx)(s.td,{children:"10.10.10.254"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Ports ouverts"})}),(0,r.jsx)(s.td,{children:"80 (http), 22 (ssh)"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Il est conseill\xe9 d'utiliser le ",(0,r.jsx)(s.a,{href:"https://gitlab.com/kikinovak/rocky-8-server",children:"script d'installation pour Rocky Linux 8.x"})," propos\xe9 par [",(0,r.jsx)(s.a,{href:"https://www.microlinux.fr/%5D(Nicolas",children:"https://www.microlinux.fr/](Nicolas"})," Kovacs), qui propose d'assainir une machine afin de la rendre plus facilement utilisable en tant que serveur."]}),"\n",(0,r.jsxs)(s.p,{children:["Installer, si manquants apr\xe8s assainissement, les composants applicatifs vus dans ",(0,r.jsx)(s.code,{children:"3.2.2"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"422-mise-en-place-du-serveur-web",children:"4.2.2. Mise en place du serveur web"}),"\n",(0,r.jsx)(s.p,{children:"Afin de lancer le serveur Apache de mani\xe8re permanente, r\xe9aliser la commande suivante :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"systemctl enable httpd --now\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Pour v\xe9rifier le bon fonctionnement du serveur il est possible d'installer le package ",(0,r.jsx)(s.code,{children:"elinks"})," et r\xe9aliser la commande suivante :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"elinks http://localhost\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Il suffit de modifier le contenu du dossier ",(0,r.jsx)(s.code,{children:"var/www/html"})," afin de modifier le site web qui s'affichera sur la page. Si les r\xe8gles de pare-feu et de port forward ont \xe9t\xe9 r\xe9alis\xe9es pour ",(0,r.jsx)(s.code,{children:"web-server"}),", le site est d\xe9sormais accessible sur tous les r\xe9seaux \xe0 l'adresse ",(0,r.jsx)(s.code,{children:"10.10.10.242:80"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Si l'entr\xe9e correspondant \xe0 ",(0,r.jsx)(s.code,{children:"web-server"})," a \xe9t\xe9 ajout\xe9e au DNS, tous les r\xe9seaux internes pourront acc\xe9der au site web \xe0 l'adresse ",(0,r.jsx)(s.code,{children:"documentation.infra.lan:80"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"423-mise-en-place-des-fichiers-de-restauration",children:"4.2.3. Mise en place des fichiers de restauration"}),"\n",(0,r.jsxs)(s.p,{children:["Les dossiers suivants et leurs permissions doivent \xeatre mis en place en ",(0,r.jsx)(s.code,{children:"sudo"})," sur la machine :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-txt",children:"/home/\t\t\t           \t(755)\r\n\tweb-server/\t\t\t(755)\r\n\t\tscripts/\t     \t(755)\r\n\t\t    restore.sh\t(700)\r\n\t\ttemp/\t\t\t    (777)\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Le fichier ",(0,r.jsx)(s.code,{children:"/home/web-server/scripts/restore.sh"})," doit contenir ce qui suit :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'#!/bin/bash\r\n# Checks arguments\r\nif [ $# -lt 1 ]; then\r\necho 1>&2 "ERREUR: Argument manquant (nom du fichier \xe0 utiliser, situ\xe9 dans le dossier ../temp)"\r\nexit 2\r\nelif [ $# -gt 1 ]; then\r\necho 1>&2 "ERREUR: Trop d\'arguments (nom du fichier \xe0 utiliser seulement)"\r\nexit 2\r\nfi\r\n\r\n# Takes first argument as filename\r\nfilename=$1\r\n# If said file doesn\'t exist:\r\nif [ ! -f "/home/web-server/temp/${filename}" ]; then\r\necho "ERREUR: Le fichier mentionn\xe9 n\'existe pas"\r\nexit 2\r\nfi\r\n\r\nif [ ! -d "/var/www/temp" ]; then\r\nmkdir "/var/www/temp"\r\nfi\r\nif [ ! -d "/home/web-server/temp" ]; then\r\nmkdir "/home/web-server/temp"\r\nfi\r\n\r\nfile="${filename%%.*}"\r\n\r\nrm -rf /var/www/html/* /var/www/temp/* /var/www/temp/*\r\ntar xfz /home/web-server/temp/$filename -C /var/www/temp/ # Uncompresses the tar file\r\nmv /var/www/temp/"$file"/* /var/www/html/ # Moves the uncompressed files from the backup folder to the html folder\r\nrm -rf /var/www/temp /home/web-server/temp/ # Removes the temp folder\n'})}),"\n",(0,r.jsx)(s.h2,{id:"43-serveurs-web-backup-lan-serv",children:"4.3. Serveurs web-backup (LAN-SERV)"}),"\n",(0,r.jsx)(s.h3,{id:"431-configuration-initiale",children:"4.3.1. Configuration initiale"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Hostname"}),(0,r.jsx)(s.th,{children:"web-backup"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Domaine"})}),(0,r.jsx)(s.td,{children:"infra.uf"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Nom de l'utilisateur"})}),(0,r.jsx)(s.td,{children:"web-backup"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Adresse IP"})}),(0,r.jsx)(s.td,{children:"10.10.1.242"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Masque de sous-r\xe9seau"})}),(0,r.jsx)(s.td,{children:"255.255.255.0 (/24)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Passerelle par d\xe9faut"})}),(0,r.jsx)(s.td,{children:"10.10.1.254"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"DNS"})}),(0,r.jsx)(s.td,{children:"10.10.1.254"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Ports ouverts"})}),(0,r.jsx)(s.td,{children:"22 (ssh)"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Il est conseill\xe9 d'utiliser le ",(0,r.jsx)(s.a,{href:"https://gitlab.com/kikinovak/rocky-8-server",children:"script d'installation pour Rocky Linux 8.x"})," propos\xe9 par [",(0,r.jsx)(s.a,{href:"https://www.microlinux.fr/%5D(Nicolas",children:"https://www.microlinux.fr/](Nicolas"})," Kovacs), qui propose d'assainir une machine afin de la rendre plus facilement utilisable en tant que serveur."]}),"\n",(0,r.jsxs)(s.p,{children:["Installer, si manquants apr\xe8s assainissement, les composants applicatifs vus dans ",(0,r.jsx)(s.code,{children:"3.2.2"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Note"})," : Il convient de se connecter une premi\xe8re fois en SSH au serveur web avant d'ex\xe9cuter l'un des scripts."]}),"\n",(0,r.jsx)(s.h3,{id:"432-mise-en-place-des-fichiers-de-sauvegarde-et-de-restauration",children:"4.3.2. Mise en place des fichiers de sauvegarde et de restauration"}),"\n",(0,r.jsxs)(s.p,{children:["Les dossiers suivants et leurs permissions doivent \xeatre mis en place en ",(0,r.jsx)(s.code,{children:"sudo"})," sur la machine :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-txt",children:"/home/\t\t\t           \t    (755)\r\n\tbackup-server/\t\t\t    (755)\r\n\t\tbackups/              (755)\r\n\t\tcredentials/          (755)\r\n\t\t\tws-ip.txt        (600)\r\n\t\t\tws-pass.txt      (600)\r\n\t\tscripts/\t     \t    (755)\r\n\t\t\tbackup.sh        (700)\r\n\t\t\tremove.sh        (700)\r\n\t\t    restore.sh\t    (700)\r\n\t\ttemp/\t\t\t        (755)\n"})}),"\n",(0,r.jsxs)(s.h4,{id:"4321-fichiers-credentials",children:["4.3.2.1. Fichiers ",(0,r.jsx)(s.code,{children:"/credentials/"})]}),"\n",(0,r.jsxs)(s.p,{children:["Dans le dossier ",(0,r.jsx)(s.code,{children:"/home/backup-server/credentials/"})," :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ws-ip.txt"})," : contient l'IP du serveur web (ici ",(0,r.jsx)(s.code,{children:"10.10.10.242"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ws-pass.txt"})," : contient le mot de passe ",(0,r.jsx)(s.code,{children:"root"})," du serveur web"]}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"4322-fichiers-scripts",children:["4.3.2.2. Fichiers ",(0,r.jsx)(s.code,{children:"/scripts/"})]}),"\n",(0,r.jsxs)(s.p,{children:["Le fichier ",(0,r.jsx)(s.code,{children:"/home/web-server/scripts/backup.sh"})," doit contenir ce qui suit :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'#!/bin/bash\r\n\r\nip=$(</home/backup-server/credentials/ws-ip.txt)\r\nfilename="backup_"$(date +"%y-%m-%d_%H-%M-%S")\r\n\r\necho "RETRIEVING DATA FROM WEB SERVER... ($ip)"\r\nsshpass -p "root" rsync -az -e ssh root@10.10.10.242:/var/www/html/ /home/backup-server/temp/"$filename"/\r\nif [ "$?" -eq "0" ]\r\nthen\r\n    cd /home/backup-server/temp\r\n    tar cfz /home/backup-server/backups/"$filename".tar.gz "$filename"/\r\n    #rm -rf /home/backup-server/backups/"$filename".tar.gz\r\n    echo "Successfully created backup data."\r\nelse\r\n    echo "ERROR: Something went wrong when trying to communicate with the web server."\r\nfi\r\n\r\nrm -rf /home/backup-server/temp/"$filename"/\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Le fichier ",(0,r.jsx)(s.code,{children:"/home/web-server/scripts/remove.sh"})," doit contenir ce qui suit :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'#!/bin/bash\r\n\r\nif [ -d "/home/backup-server/temp" ]\r\nthen\r\n    rm -rf /home/backup-server/temp/*\r\n    echo "Emptied temp folder."\r\nfi\r\n\r\nif [ -d "/home/backup-server/backups" ]\r\nthen\r\n    find /home/backup-server/backups/*.tar.gz -mtime +0 -type f -delete\r\n    echo "Successfully realised the operation."\r\n    exit 0\r\nelse\r\n    echo "ERROR: The directory doesn\'t exist."\r\n    exit 1\r\nfi\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Le fichier ",(0,r.jsx)(s.code,{children:"/home/web-server/scripts/restore.sh"})," doit contenir ce qui suit :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:'#!/bin/bash\r\n# Retrieves the list of all the files in the backups folder.\r\nfiles=($(find /home/backup-server/backups/ -mtime -8 -type f -exec basename {} \\;))\r\n\r\n# If there\'s no file:\r\nif [ -z "$files" ]; then\r\n   echo "No backup files available for restore."\r\n   exit 1\r\nfi\r\n\r\n# Else:\r\n\r\n# Orders the file array elements by name:\r\nIFS=$\'\\n\' files=($(sort <<< "${files[*]}"))\r\nunset IFS\r\n\r\necho "Backup files available for restore:"\r\ni=0\r\nwhile [ $i -lt ${#files[@]} ]\r\ndo\r\n   echo $i: ${files[$i]}\r\n   ((i++))\r\ndone\r\nprintf \'\\n\'\n'})}),"\n",(0,r.jsx)(s.h3,{id:"433-mise-en-oeuvre-des-t\xe2ches-automatiques",children:"4.3.3. Mise en oeuvre des t\xe2ches automatiques"}),"\n",(0,r.jsxs)(s.p,{children:["Il faut modifier le fichier de configuration de ",(0,r.jsx)(s.code,{children:"crontab"})," (planificateur de t\xe2ches int\xe9gr\xe9 \xe0 l'OS) pour ex\xe9cuter la sauvegarde et la suppression des anciennes backups, avec ",(0,r.jsx)(s.code,{children:"crontab -e"})," :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:" 0 1 * * * /home/backup-server/scripts/backup.sh\r\n 5 1 * * * /home/backup-server/scripts/remove.sh\n"})}),"\n",(0,r.jsx)(s.p,{children:"Ici, la sauvegarde et la suppression s'ex\xe9cuteront respectivement \xe0 1h00 et 1h05."}),"\n",(0,r.jsx)(s.h2,{id:"44-serveur-honeypot-honeypot",children:"4.4 Serveur honeypot (HONEYPOT)"}),"\n",(0,r.jsx)(s.h3,{id:"441-configuration-initiale",children:"4.4.1. Configuration initiale"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Hostname"}),(0,r.jsx)(s.th,{children:"very-important-and-private-and-secret-server"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Domaine"})}),(0,r.jsx)(s.td,{children:"infra.uf"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Nom de l'utilisateur"})}),(0,r.jsx)(s.td,{children:"user"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Adresse IP"})}),(0,r.jsx)(s.td,{children:"10.10.11.242"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Masque de sous-r\xe9seau"})}),(0,r.jsx)(s.td,{children:"255.255.255.240 (/28)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Passerelle par d\xe9faut"})}),(0,r.jsx)(s.td,{children:"10.10.11.254"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"DNS"})}),(0,r.jsx)(s.td,{children:"10.10.11.254"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Ports ouverts (honeypot)"})}),(0,r.jsx)(s.td,{children:"80, 8080, 20, 21, 22, 23, 25, 443, 8443, 53"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Ports ouverts (r\xe9els)"})}),(0,r.jsx)(s.td,{children:"64295 (ssh), 64297 (https, monitoring), 64294 (https, admin-ui)"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"T-Pot est une plateforme honeypot open-source tout-en-un qui int\xe8gre plusieurs honeypots et outils de s\xe9curit\xe9 pour la d\xe9tection et l'analyse des menaces cyber. T-Pot vise \xe0 simplifier le processus de d\xe9ploiement et de gestion des honeypots pour les organisations. Il sert de solution compl\xe8te de honeypot qui peut \xeatre adapt\xe9e pour r\xe9pondre \xe0 des besoins de s\xe9curit\xe9 sp\xe9cifiques."}),"\n",(0,r.jsx)(s.p,{children:"Pour mettre en place le honeypot, il sera n\xe9cessaire de l'installer sur un serveur. Par d\xe9faut, un serveur Ubuntu a \xe9t\xe9 s\xe9lectionn\xe9 pour cette installation."}),"\n",(0,r.jsx)(s.h3,{id:"442-installation-de-t-pot-sur-le-serveur",children:"4.4.2 Installation de T-Pot sur le serveur"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Clonez le d\xe9p\xf4t Github : ",(0,r.jsx)(s.code,{children:"$ git clone https://github.com/telekom-security/tpotce"})]}),"\n",(0,r.jsxs)(s.li,{children:["Acc\xe9dez au dossier tpotce/ : ",(0,r.jsx)(s.code,{children:"$ cd tpotce"})]}),"\n",(0,r.jsxs)(s.li,{children:["Lancez le script d'installation : ",(0,r.jsx)(s.code,{children:"$ ./install.sh"})]}),"\n",(0,r.jsxs)(s.li,{children:["Suivez les instructions de l'installateur et entrez votre mot de passe si n\xe9cessaire. Le type d'installation souhait\xe9 vous sera demand\xe9, il faudra indiquer ",(0,r.jsx)(s.code,{children:"h"})," pour HIVE. Il faudra aussi renseigner un nom d'utilisateur et un nouveau mot de passe pour l'interface Web."]}),"\n",(0,r.jsx)(s.li,{children:"V\xe9rifiez attentivement les messages de l'installateur pour d\xe9tecter d'\xe9ventuelles erreurs ou conflits de ports."}),"\n",(0,r.jsxs)(s.li,{children:["Red\xe9marrez votre machine : ",(0,r.jsx)(s.code,{children:"$ sudo reboot"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Une fois la machine red\xe9marr\xe9e, v\xe9rifiez l'\xe9tat des images Docker avec ",(0,r.jsx)(s.code,{children:"docker ps"})," et du service tpotce avec ",(0,r.jsx)(s.code,{children:"sudo systemctl status tpotce"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"443-configuration-du-pare-feu-dans-t-pot-ufw",children:"4.4.3 Configuration du pare-feu dans T-Pot (UFW)"}),"\n",(0,r.jsx)(s.p,{children:"Autorisez l'ouverture des ports qui vont \xeatre expos\xe9s :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo ufw allow from any to <ip-tpot> port 80 proto tcp\r\nsudo ufw allow from any to <ip-tpot> port 8080 proto tcp\r\nsudo ufw allow from any to <ip-tpot> port 20 proto tcp\r\nsudo ufw allow from any to <ip-tpot> port 21 proto tcp\r\nsudo ufw allow from any to <ip-tpot> port 22 proto tcp\r\nsudo ufw allow from any to <ip-tpot> port 23 proto tcp\r\nsudo ufw allow from any to <ip-tpot> port 25 proto tcp\r\nsudo ufw allow from any to <ip-tpot> port 443 proto tcp\r\nsudo ufw allow from any to <ip-tpot> port 8443 proto tcp\r\nsudo ufw allow from any to <ip-tpot> port 53 proto udp\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Ensuite, activez la journalisation du pare-feu avec ",(0,r.jsx)(s.code,{children:"sudo ufw logging on"})]}),"\n",(0,r.jsx)(s.h3,{id:"444-r\xe8gles-de-pare-feu-et-port-forwarding-pfsense",children:"4.4.4. R\xe8gles de pare-feu et port-forwarding (pfSense)"}),"\n",(0,r.jsx)(s.h2,{id:"45-pc-clients",children:"4.5. PC clients"}),"\n",(0,r.jsx)(s.p,{children:"Les PC client (Windows ou Linux) n'ont pas de configuration particuli\xe8re sp\xe9cifi\xe9e dans le cahier des charges. Elles n'ont pas d'imp\xe9ratif de nomenclature pour les noms des machines et utilisateurs, ni de logiciels hors ceux sp\xe9cifi\xe9s plus t\xf4t."}),"\n",(0,r.jsxs)(s.p,{children:["Tant qu'ils sont reli\xe9s au r\xe9seau ",(0,r.jsx)(s.code,{children:"LAN-OFFICE"}),", leurs param\xe8tres r\xe9seau seront configur\xe9s automatiquement, par DHCP. Elles r\xe9cup\xe9reront ainsi une IP libre de la pool DHCP de ",(0,r.jsx)(s.code,{children:"LAN-OFFICE"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},1284:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/carp_backup-b184f133981f6e0ed8b7c32315aebb82.png"},7812:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/carp_master-4c34a211236d75071cc681d75231ca48.png"},9087:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/check_rip-da83778fc5ffbb6446726e74d79b33c8.png"},6734:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/dhcp_lanoffice-4e9ddf64541972e2f1a34d09c120c3e6.png"},44:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/dns_website-9ffaf576891e275f7ac613fed094fe75.png"},9505:(e,s,n)=>{n.d(s,{A:()=>r});const r="data:image/png;base64,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"},7036:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/firewall-honeypot-c1a2c5ca864997615a1655401833463a.png"},5174:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/firewall_aliases-30a6937e82d634bce6d526d7a3eec9bd.png"},6003:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/firewall_dmz-ae71ee6fa6a778c6c98af43e2485f3b7.png"},355:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/firewall_lanoffice-d0957e601099198fb9f9ac6c4a4eccbe.png"},2783:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/firewall_lanserv-214d5778b16dc66968a4857bedc7e87f.png"},8725:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/firewall_sync-750abbc31e7620525ad9c70449297a2e.png"},1712:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/firewall_wan-e68a28cc4cc4b125c791006b82ce1b83.png"},8553:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/outbound_mappings-6b3b39edd4d0f41362b2df31077c5193.png"},1427:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/pfsense_main-6f0cef5653435b97833df1910279be13.png"},7106:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/pkg_frr-b09fed460acb67b680f93760097d738b.png"},1720:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/port_forward_1-a9f6e842b42ada22fd1b91be50e92710.png"},4613:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/squid-463452dec228448c97886af29e9a9cff.png"},5682:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/vip-d166b3c24ea88c8851c590638b640bde.png"},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var r=n(6540);const i={},d=r.createContext(i);function t(e){const s=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(d.Provider,{value:s},e.children)}}}]);